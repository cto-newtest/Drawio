# Изменения: Улучшение работы со стрелками

## Реализованные возможности

### 1. Выделение стрелок по клику
- Стрелки теперь можно выделять кликом мыши в режиме "select"
- Добавлена явная обработка клика на edges с вызовом `store.selectCells([cellId])`
- Включена настройка `graph.setCellsSelectable(true)` для всех типов ячеек

### 2. Удаление выделенных стрелок
- Выделенные стрелки можно удалить клавишами Delete или Backspace
- Функционал уже был реализован в исходном коде через обработчик keyboard shortcuts

### 3. Прямоугольные изломы стрелок (как в draw.io)
- Стрелки теперь автоматически преломляются под прямым углом вместо диагональных линий
- Изменены точки подключения с 9 (углы + стороны + центр) на 4 (только центры сторон)
- Улучшена логика выбора точки подключения - выбирается сторона, смотрящая на противоположный узел
- Добавлен ортогональный routing (`EDGESTYLE.ORTHOGONAL` + `orthogonal: true`)
- Пример: если нижний блок расположен ниже и правее верхнего, стрелка идёт вниз, затем преломляется под 90° направо

## Технические изменения

### src/entities/graph/GraphCanvas.tsx

1. **Инициализация графа (строки 139-141)**:
   ```typescript
   graph.setCellsSelectable(true)
   graph.setAllowDanglingEdges(false)
   ```

2. **Connection constraints (строки 160-170)**:
   - Оставлены только 4 точки на центрах сторон (top, right, bottom, left)
   - Удалены угловые точки для более чистого orthogonal routing

3. **Умный выбор точки подключения (строки 172-228)**:
   - Сравнение относительных позиций узлов (dx vs dy)
   - Выбор стороны на основе наибольшего смещения

4. **Стиль стрелок (строки 74-98)**:
   ```typescript
   edgeStyle: edgeStyle.endArrow === 'none' ? constants.NONE : constants.EDGESTYLE.ORTHOGONAL
   orthogonal: true
   strokeWidth: 2
   ```

5. **Обработка клика на стрелку (строки 256-262)**:
   ```typescript
   if (cell.isEdge()) {
     const cellId = cell.id as string
     if (cellId) {
       store.selectCells([cellId])
     }
   }
   ```

## Результат

Теперь редактор стрелок работает полностью как в draw.io:
- ✅ Стрелки выделяются кликом
- ✅ Выделенные стрелки удаляются Delete/Backspace
- ✅ Стрелки автоматически преломляются под прямым углом в зависимости от расположения блоков
- ✅ Чистый ортогональный routing без диагональных линий
